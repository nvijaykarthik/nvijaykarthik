import org.apache.maven.project.*;
import org.apache.maven.repository.internal.*;
import org.eclipse.aether.*;
import org.eclipse.aether.repository.*;
import org.eclipse.aether.impl.*;
import org.eclipse.aether.spi.locator.*;
import org.eclipse.aether.DefaultRepositorySystemSession;
import org.eclipse.aether.util.repository.AuthenticationBuilder;
import org.eclipse.aether.connector.basic.BasicRepositoryConnectorFactory;
import org.eclipse.aether.transport.file.FileTransporterFactory;
import org.eclipse.aether.transport.http.HttpTransporterFactory;

import java.io.File;
import java.util.Collections;

public class PomLoader {
    public static void main(String[] args) throws Exception {
        File pomFile = new File("path/to/pom.xml");

        DefaultRepositorySystemSession repoSession = MavenRepositorySystemUtils.newSession();
        RepositorySystem repoSystem = new DefaultServiceLocator()
                .addService(RepositoryConnectorFactory.class, BasicRepositoryConnectorFactory.class)
                .addService(TransporterFactory.class, FileTransporterFactory.class)
                .addService(TransporterFactory.class, HttpTransporterFactory.class)
                .getService(RepositorySystem.class);

        ProjectBuilder builder = new DefaultProjectBuilder();
        ProjectBuildingRequest request = new DefaultProjectBuildingRequest();
        request.setRepositorySession(repoSession);
        request.setRemoteRepositories(Collections.singletonList(
                new RemoteRepository.Builder("central", "default", "https://repo.maven.apache.org/maven2").build()
        ));

        ProjectBuildingResult result = builder.build(pomFile, request);
        MavenProject project = result.getProject();

        System.out.println("Project: " + project.getId());
        System.out.println("Dependencies: " + project.getDependencies().size());
    }
}